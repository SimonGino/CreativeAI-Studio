# UI Polish Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Polish three UI areas (sidebar, header, chat input) by adjusting Tailwind CSS classes only.

**Architecture:** Pure CSS class modifications across 3 component files. No structural, behavioral, or state changes.

**Tech Stack:** React, Tailwind CSS v4, Lucide icons

**Design doc:** `docs/plans/2026-02-22-ui-polish-design.md`

---

### Task 1: Polish Sidebar

**Files:**
- Modify: `frontend/src/components/layout/Sidebar.tsx`

**Step 1: Update "历史" label styling**

Line 31, change:
```tsx
// Before
<span className="text-[12px] font-medium text-[var(--text-tertiary)]">{t('sidebar.history')}</span>

// After
<span className="text-[11px] font-medium uppercase tracking-wider text-[var(--text-tertiary)]">{t('sidebar.history')}</span>
```

**Step 2: Update "新建对话" button — remove border, use bg**

Line 42-43, change the button className:
```tsx
// Before
className="flex w-full items-center justify-center gap-1.5 rounded-[var(--radius)] border border-[var(--border)] bg-[var(--bg)] px-3 py-2 text-[13px] font-medium text-[var(--text)] hover:bg-[var(--bg-tertiary)]"

// After
className="flex w-full items-center justify-center gap-1.5 rounded-[var(--radius)] bg-[var(--bg-tertiary)] px-3 py-2 text-[13px] font-medium text-[var(--text)] hover:bg-[var(--bg-hover)]"
```

**Step 3: Update conversation list item — increase padding, add active indicator**

Line 57-61, change the cn() call:
```tsx
// Before
'group flex w-full items-start gap-2 rounded-lg px-2.5 py-2 text-left',
isActive
  ? 'bg-[var(--bg-hover)] text-[var(--text)]'
  : 'text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)]'

// After
'group flex w-full items-start gap-2 rounded-lg px-2.5 py-2.5 text-left',
isActive
  ? 'border-l-2 border-[var(--accent)] bg-[var(--bg-hover)] text-[var(--text)]'
  : 'border-l-2 border-transparent text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)]'
```

**Step 4: Build verification**

Run: `cd /Users/wqq/Code/Freelance/CreativeAI-Studio/frontend && npx vite build 2>&1 | tail -5`
Expected: Build succeeds with no errors.

**Step 5: Commit**

```bash
git add frontend/src/components/layout/Sidebar.tsx
git commit -m "style: polish sidebar — remove button border, add active indicator, adjust spacing"
```

---

### Task 2: Polish Header Language Switcher

**Files:**
- Modify: `frontend/src/components/layout/Header.tsx`

**Step 1: Replace segmented control with plain text buttons**

Lines 59-75, replace the entire language switcher block:
```tsx
// Before
<div className="flex items-center gap-2">
  <div className="flex items-center gap-0.5 rounded-lg bg-[var(--bg-secondary)] p-0.5">
    {LOCALE_OPTIONS.map((opt) => (
      <button
        key={opt.value}
        onClick={() => setLocale(opt.value)}
        className={cn(
          'rounded-md px-2.5 py-1 text-[12px] font-medium',
          locale === opt.value
            ? 'bg-[var(--bg)] text-[var(--text)] shadow-sm'
            : 'text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]',
        )}
      >
        {t(opt.labelKey)}
      </button>
    ))}
  </div>

// After
<div className="flex items-center gap-2">
  <div className="flex items-center gap-1 text-[12px]">
    {LOCALE_OPTIONS.map((opt, idx) => (
      <Fragment key={opt.value}>
        {idx > 0 && <span className="text-[var(--border)]">/</span>}
        <button
          onClick={() => setLocale(opt.value)}
          className={cn(
            'font-medium',
            locale === opt.value
              ? 'text-[var(--text)] font-semibold'
              : 'text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]',
          )}
        >
          {t(opt.labelKey)}
        </button>
      </Fragment>
    ))}
  </div>
```

**Step 2: Add Fragment import**

Line 1, update import:
```tsx
// Before
import { Link } from 'react-router-dom';

// After
import { Fragment } from 'react';
import { Link } from 'react-router-dom';
```

**Step 3: Build verification**

Run: `cd /Users/wqq/Code/Freelance/CreativeAI-Studio/frontend && npx vite build 2>&1 | tail -5`
Expected: Build succeeds with no errors.

**Step 4: Commit**

```bash
git add frontend/src/components/layout/Header.tsx
git commit -m "style: simplify language switcher to plain text buttons"
```

---

### Task 3: Polish Chat Input Area

**Files:**
- Modify: `frontend/src/components/chat/ChatInput.tsx`

**Step 1: Remove border-t, add toolbar background**

Line 166, change toolbar container:
```tsx
// Before
<div className="flex items-center gap-1.5 border-t border-[var(--border)] px-3 py-1.5">

// After
<div className="flex items-center gap-1.5 rounded-b-xl bg-[var(--bg-secondary)] px-3 py-2">
```

**Step 2: Increase dropdown trigger font size**

Line 47, in BottomDropdown button className:
```tsx
// Before
'flex items-center gap-1 rounded-md px-2 py-0.5 text-[12px] font-medium',

// After
'flex items-center gap-1 rounded-md px-2 py-0.5 text-[13px] font-medium',
```

**Step 3: Increase media toggle button padding**

Line 190-191, change media tab button className:
```tsx
// Before
'flex items-center gap-1 rounded px-2.5 py-0.5 text-[12px] font-medium',

// After
'flex items-center gap-1 rounded px-3 py-1 text-[12px] font-medium',
```

**Step 4: Build verification**

Run: `cd /Users/wqq/Code/Freelance/CreativeAI-Studio/frontend && npx vite build 2>&1 | tail -5`
Expected: Build succeeds with no errors.

**Step 5: Commit**

```bash
git add frontend/src/components/chat/ChatInput.tsx
git commit -m "style: polish chat input — remove divider, adjust toolbar spacing"
```
